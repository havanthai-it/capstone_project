<div class="virtual-trip">
  <div class="row">
    <div class="col-4 pl-0 pr-0 left-content" [style.left.px]='isExpandLeft ? expandWidth : 0'>
      <div #leftContent class="row">
        <mat-card class="example-card">
          <div class="header-card">
            <div class="image-header" [class.no-image]="!urlCoverImage">
              <ng-container *ngIf="urlCoverImage; else coverImage">
                <img mat-card-image src="{{urlCoverImage}}" alt="Photo cover">
              </ng-container>
              <ng-template #coverImage>
                <button (click)="fileClick()" mat-icon-button class="">
                  <mat-icon>add_photo_alternate</mat-icon>
                  <app-upload-image width="60%" (croppedImage)="ImageCropted($event)" [aspectRatio]='1.8/1'
                    resizeToWidth="600" #uploadImage></app-upload-image>
                </button>
              </ng-template>
            </div>
            <figure class="profile">
              <img src="https://picsum.photos/200/150/?random" class="profile-avatar" alt="">
            </figure>
            <figure class="profile-right">
              <button mat-icon-button (click)="setPolicy()">
                <mat-icon>{{ isPublic ? 'lock_open' : 'lock'}}</mat-icon>
              </button>
            </figure>
            <button class="edit" mat-icon-button [matMenuTriggerFor]="menu"
              aria-label="Example icon-button with a menu">
              <mat-icon>more_horiz</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item>
                <mat-icon>delete</mat-icon>
                <span>Xoá</span>
              </button>
              <button (click)="editAble()" mat-menu-item>
                <mat-icon>edit</mat-icon>
                <span>Chỉnh sửa</span>
              </button>
            </mat-menu>
          </div>
          <mat-card-content>
            <div class="parent-content mt-5">
              <h4>{{title == '' ? 'Tên chuyến đi' : title}}</h4>
              <p><span class="sub-title">Bởi </span><a href="#"><span class="author-name">{{author.displayName}}</span></a></p>
              <app-read-more [isEditable]='false' text="{{note}}"></app-read-more>
              <a *ngIf="!note" href="#">+ Thêm ghi chú mới</a>
              <p><span class="sub-title">0 mục cập nhập vào tháng 6 năm 2019</span></p>
            </div>
          </mat-card-content>
          <mat-card-actions>
            <button mat-icon-button>
              <mat-icon>share</mat-icon>
            </button>
          </mat-card-actions>
          <div *ngIf="virtualTrip.items!=undefined">
            <ng-container *ngFor="let item of virtualTrip.items">
              <app-destination-trip (saveDestination)="saveDestination($event)" [item]='item'></app-destination-trip>
            </ng-container>
          </div>
        </mat-card>
      </div>
    </div>
    <div>
      <div [style.left.px]='isExpandLeft ? 0 : -expandWidth' class="expand">
        <span class="icon-expand">
          <button mat-flat-button (click)='expandLeft()' color="accent">
            <mat-icon>{{isExpandLeft ? 'keyboard_arrow_right' : 'keyboard_arrow_left'}}</mat-icon>
          </button>
        </span>
      </div>
    </div>
    <div class="col-12 right-content pl-0 pr-0 mt-0 ">
      <div class="fixed">
        <app-google-map [heightMap]="screenHeight" [locationMarker]="virtualTrip.items" (addDestination)="addDestination($event)"></app-google-map>
      </div>
    </div>
  </div>
  <div *ngIf="!isViewDetailTrip" class="btn-create">
    <button mat-fab color="accent" (click)="createTrip()">Tạo</button>
  </div>
</div>